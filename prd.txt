# MotionCover - äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)

## ğŸ“Š é¡¹ç›®æ¦‚è§ˆ

**MotionCover** æ˜¯ä¸€ä¸ªç»¼åˆæ€§çš„éŸ³ä¹å¯è§†åŒ–å·¥å…·å¹³å°ï¼ŒåŒ…å« Spotify Canvas ä¸‹è½½å™¨å’Œå¤šç§éŸ³ä¹è§†è§‰åˆ›ä½œå·¥å…·ã€‚
é¡¹ç›®ä½¿ç”¨ Next.js 14+ æ„å»ºï¼Œæ”¯æŒä¸­è‹±æ–‡åŒè¯­ï¼Œæä¾›ä»ä¸‹è½½åˆ°åˆ›ä½œçš„å®Œæ•´å·¥ä½œæµã€‚

**ç½‘ç«™**: https://www.motioncover.app

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### æ¨¡å— 1: Spotify Canvas ä¸‹è½½å™¨ (`/downloader`)
**çŠ¶æ€**: âœ… å·²å®Œæˆ

- ç²˜è´´ Spotify æ­Œæ›²é“¾æ¥ï¼Œé¢„è§ˆå¹¶ä¸‹è½½ Canvas è§†é¢‘
- æ”¯æŒæœç´¢æ­Œæ›²/è‰ºæœ¯å®¶
- è‡ªåŠ¨å›é€€è‡³ä¸“è¾‘å°é¢ï¼ˆå½“æ—  Canvas æ—¶ï¼‰
- Redis ç¼“å­˜ï¼ˆ24å°æ—¶ TTLï¼‰
- Cookie è½®è¯¢é˜²æ­¢é€Ÿç‡é™åˆ¶

### æ¨¡å— 2: éŸ³é¢‘é©±åŠ¨ç‰¹æ•ˆ (`/visualizer/effects`)
**çŠ¶æ€**: ğŸ—‘ï¸ å·²ç§»é™¤ï¼ˆè®¿é—®å°†é‡å®šå‘è‡³ `/visualizer/cover-25d`ï¼‰

### æ¨¡å— 3: 2.5D è§†å·®å°é¢ (`/visualizer/cover-25d`)
**çŠ¶æ€**: âœ… å·²å®Œæˆ

- ä¸Šä¼ å°é¢å›¾ç‰‡ï¼Œè‡ªåŠ¨ç”Ÿæˆæ·±åº¦å›¾
- ç”Ÿæˆå‰æ™¯/èƒŒæ™¯åˆ†å±‚
- éŸ³é¢‘é©±åŠ¨çš„ 2.5D è§†å·®åŠ¨æ•ˆ
- æ”¯æŒå¯¼å‡ºåŠ¨ç”»

### æ¨¡å— 4: AI åˆ†å±‚å®éªŒå®¤ (`/visualizer/architect`)
**çŠ¶æ€**: âœ… å·²å®Œæˆ

- AI ç”Ÿæˆæ„å›¾æ¸…æ™°çš„åº•å›¾ï¼ˆåŸºäº Promptï¼‰
- æ™ºèƒ½åˆ†å±‚ï¼ˆå‰æ™¯/èƒŒæ™¯åˆ†ç¦»ï¼‰
- å¤šå±‚åŠ¨ç”»é¢„è§ˆ
- é€Ÿåº¦ç²’å­æ•ˆæœ

### æ¨¡å— 5: Spotify Canvas Studio (`/studio`)
**çŠ¶æ€**: ğŸ”„ UI å·²å®Œæˆï¼Œæ ¸å¿ƒå¤„ç†å¾…å®ç°

- **The Resizer**: ä¸Šä¼ è§†é¢‘/å›¾ç‰‡ï¼Œè½¬æ¢ä¸º 9:16 Canvas æ ¼å¼
  - Fit/Fill æ¨¡å¼åˆ‡æ¢
  - æ—¶é•¿æ§åˆ¶ï¼ˆ3-8ç§’ï¼‰
  - æ‰‹æœºé¢„è§ˆæ¡†
- **The Maker**: ä¸Šä¼ ä¸“è¾‘å°é¢ + é€‰æ‹©åŠ¨ç”»æ¨¡æ¿
  - 5 ç§é¢„è®¾æ¨¡æ¿ï¼ˆRain, Neon, Vinyl, Abstract, Particlesï¼‰
  - å®æ—¶é¢„è§ˆ
- é‚®ä»¶æ”¶é›† + å¯¼å‡ºæµç¨‹ï¼ˆUI å·²å®Œæˆï¼‰

---

## ğŸ›  æŠ€æœ¯æ ˆ

| ç±»åˆ« | æŠ€æœ¯ |
|------|------|
| æ¡†æ¶ | Next.js 14+ (App Router) |
| è¯­è¨€ | TypeScript (ä¸¥æ ¼æ¨¡å¼) |
| æ ·å¼ | Tailwind CSS |
| UI ç»„ä»¶ | Lucide React Icons |
| 3D/åŠ¨ç”» | Three.js + React Three Fiber + Drei |
| çŠ¶æ€ç®¡ç† | Zustand |
| ç¼“å­˜ | Vercel KV (Redis) |
| å›½é™…åŒ– | è‡ªå®šä¹‰ i18n (ä¸­/è‹±) |
| éƒ¨ç½² | Vercel |

---

## ğŸ“± é¡µé¢è·¯ç”±æ¸…å•

| è·¯ç”± | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|
| `/` | é¦–é¡µ - å·¥å…·å…¥å£ | âœ… |
| `/downloader` | Canvas ä¸‹è½½å™¨ | âœ… |
| `/canvas` | Canvas ç»“æœé¡µ | âœ… |
| `/search` | æœç´¢ç»“æœ | âœ… |
| `/artist/[id]` | è‰ºæœ¯å®¶é¡µé¢ | âœ… |
| `/charts` | çƒ­é—¨æ­Œæ›² | âœ… |
| `/random` | éšæœº Canvas | âœ… |
| `/studio` | Canvas Studio | ğŸ”„ |
| `/visualizer` | å¯è§†åŒ–å…¥å£ | âœ… |
| `/visualizer/effects` | éŸ³é¢‘ç‰¹æ•ˆï¼ˆå·²ç§»é™¤ï¼Œé‡å®šå‘è‡³ `/visualizer/cover-25d`ï¼‰ | ğŸ—‘ï¸ |
| `/visualizer/cover-25d` | 2.5D è§†å·® | âœ… |
| `/visualizer/architect` | AI åˆ†å±‚ | âœ… |
| `/visualizer/parallax` | è§†å·®æ•ˆæœ | âœ… |
| `/visualizer/cockpit` | é©¾é©¶èˆ±è§†è§’ | âœ… |
| `/spotify-canvas` | Canvas æŒ‡å— | âœ… |
| `/spotify-canvas/dimensions` | å°ºå¯¸è§„èŒƒ | âœ… |
| `/spotify-canvas/length` | æ—¶é•¿è¯´æ˜ | âœ… |
| `/spotify-canvas/maker` | åˆ¶ä½œæ•™ç¨‹ | âœ… |
| `/spotify-canvas/download` | ä¸‹è½½æ•™ç¨‹ | âœ… |
| `/about` | å…³äº | âœ… |
| `/faq` | å¸¸è§é—®é¢˜ | âœ… |

---

## ğŸŒ API ç«¯ç‚¹

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ |
|------|------|------|
| `/api/canvas` | GET | è·å– Canvas æ•°æ® |
| `/api/search` | GET | æœç´¢æ­Œæ›²/è‰ºæœ¯å®¶ |
| `/api/artist/[id]` | GET | è·å–è‰ºæœ¯å®¶ä¿¡æ¯ |
| `/api/parse-canvas` | POST | è§£æ Canvas URL |
| `/api/depth` | POST | ç”Ÿæˆæ·±åº¦å›¾ |
| `/api/layers` | POST | å›¾ç‰‡åˆ†å±‚ |
| `/api/architect` | POST | AI å›¾ç‰‡ç”Ÿæˆ |
| `/api/health` | GET | å¥åº·æ£€æŸ¥ |

---

## ğŸ¨ è®¾è®¡ç³»ç»Ÿ

### é¢œè‰²
- ä¸»èƒŒæ™¯: `#000000` / `#121212`
- æ¬¡èƒŒæ™¯: `#181818`
- ä¸»ç»¿è‰²: `#1DB954` (Spotify Green)
- æ–‡å­—: `#FFFFFF` / `#64748b`

### ä¸»é¢˜
- å¼ºåˆ¶æš—é»‘æ¨¡å¼
- Spotify é£æ ¼è®¾è®¡è¯­è¨€
- å“åº”å¼å¸ƒå±€ï¼ˆç§»åŠ¨ä¼˜å…ˆï¼‰

---

## ğŸ” å®‰å…¨ä¸æ€§èƒ½

### å®‰å…¨
- Cookie è½®è¯¢é˜²æ­¢ API é€Ÿç‡é™åˆ¶
- æ— ç”¨æˆ·æ•°æ®å­˜å‚¨ï¼ˆæ— çŠ¶æ€ï¼‰
- ç¯å¢ƒå˜é‡éªŒè¯
- é”™è¯¯è¾¹ç•Œé˜²æ­¢å´©æºƒ
- HTTPS å¼ºåˆ¶

### æ€§èƒ½
- Redis ç¼“å­˜ï¼ˆ24å°æ—¶ TTLï¼‰
- è¯·æ±‚è¶…æ—¶ï¼ˆ10ç§’ï¼‰
- å¸¦é€€é¿çš„é‡è¯•é€»è¾‘
- ä»£ç åˆ†å‰²
- å›¾ç‰‡ä¼˜åŒ–


---

## ğŸ“ é¡¹ç›®ç»“æ„

```
motioncover/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ page.tsx                  # é¦–é¡µï¼ˆå·¥å…·å…¥å£ï¼‰
â”‚   â”‚   â”œâ”€â”€ downloader/               # Canvas ä¸‹è½½å™¨
â”‚   â”‚   â”œâ”€â”€ canvas/                   # Canvas ç»“æœé¡µ
â”‚   â”‚   â”œâ”€â”€ search/                   # æœç´¢ç»“æœé¡µ
â”‚   â”‚   â”œâ”€â”€ artist/[id]/              # è‰ºæœ¯å®¶é¡µé¢
â”‚   â”‚   â”œâ”€â”€ charts/                   # çƒ­é—¨æ­Œæ›²
â”‚   â”‚   â”œâ”€â”€ random/                   # éšæœº Canvas
â”‚   â”‚   â”œâ”€â”€ studio/                   # Canvas Studio
â”‚   â”‚   â”œâ”€â”€ visualizer/
â”‚   â”‚   â”‚   â”œâ”€â”€ effects/              # éŸ³é¢‘ç‰¹æ•ˆé¢„è§ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ cover-25d/            # 2.5D è§†å·®
â”‚   â”‚   â”‚   â”œâ”€â”€ architect/            # AI åˆ†å±‚å®éªŒå®¤
â”‚   â”‚   â”‚   â”œâ”€â”€ parallax/             # è§†å·®æ•ˆæœ
â”‚   â”‚   â”‚   â””â”€â”€ cockpit/              # é©¾é©¶èˆ±è§†è§’
â”‚   â”‚   â”œâ”€â”€ spotify-canvas/           # Canvas æŒ‡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ dimensions/           # å°ºå¯¸è§„èŒƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ length/               # æ—¶é•¿è¯´æ˜
â”‚   â”‚   â”‚   â”œâ”€â”€ maker/                # åˆ¶ä½œæ•™ç¨‹
â”‚   â”‚   â”‚   â””â”€â”€ download/             # ä¸‹è½½æ•™ç¨‹
â”‚   â”‚   â”œâ”€â”€ about/                    # å…³äºé¡µé¢
â”‚   â”‚   â”œâ”€â”€ faq/                      # å¸¸è§é—®é¢˜
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ canvas/               # Canvas æ•°æ® API
â”‚   â”‚       â”œâ”€â”€ search/               # æœç´¢ API
â”‚   â”‚       â”œâ”€â”€ artist/[id]/          # è‰ºæœ¯å®¶ API
â”‚   â”‚       â”œâ”€â”€ depth/                # æ·±åº¦å›¾ç”Ÿæˆ API
â”‚   â”‚       â”œâ”€â”€ layers/               # åˆ†å±‚ API
â”‚   â”‚       â”œâ”€â”€ architect/            # AI ç”Ÿæˆ API
â”‚   â”‚       â”œâ”€â”€ parse-canvas/         # Canvas è§£æ
â”‚   â”‚       â””â”€â”€ health/               # å¥åº·æ£€æŸ¥
â”‚   â”œâ”€â”€ components/                   # å…±äº«ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”œâ”€â”€ SearchBox.tsx
â”‚   â”‚   â””â”€â”€ Skeleton.tsx
â”‚   â”œâ”€â”€ features/                     # åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ audio/                    # éŸ³é¢‘åˆ†æ
â”‚   â”‚   â”œâ”€â”€ canvas-downloader/        # ä¸‹è½½å™¨æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ parallax/                 # è§†å·®æ•ˆæœ
â”‚   â”‚   â”œâ”€â”€ spotify-core/             # Spotify æ ¸å¿ƒ
â”‚   â”‚   â””â”€â”€ visualizer/               # å¯è§†åŒ–ç»„ä»¶
â”‚   â”œâ”€â”€ lib/                          # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ redis.ts                  # Redis ç¼“å­˜
â”‚   â”‚   â”œâ”€â”€ logger.ts                 # æ—¥å¿—
â”‚   â”‚   â”œâ”€â”€ env.ts                    # ç¯å¢ƒå˜é‡
â”‚   â”‚   â””â”€â”€ utils.ts                  # é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ i18n/                         # å›½é™…åŒ–
â”‚   â”‚   â”œâ”€â”€ messages.ts
â”‚   â”‚   â”œâ”€â”€ routing.ts
â”‚   â”‚   â””â”€â”€ server.ts
â”‚   â”œâ”€â”€ services/                     # æœåŠ¡å±‚
â”‚   â””â”€â”€ types/                        # ç±»å‹å®šä¹‰
â”œâ”€â”€ public/                           # é™æ€èµ„æº
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ next.config.ts
â””â”€â”€ tailwind.config.ts
```

---

## ğŸ“‹ å¾…å®Œæˆä»»åŠ¡

### é«˜ä¼˜å…ˆçº§
1. [ ] `/studio` - å®ç°å®é™…çš„è§†é¢‘å¤„ç†é€»è¾‘ï¼ˆFFmpeg/WebCodecsï¼‰
2. [ ] `/studio` - å®ç°é‚®ä»¶å‘é€åŠŸèƒ½
3. [ ] æ·»åŠ æ›´å¤šåŠ¨ç”»æ¨¡æ¿

### ä¸­ä¼˜å…ˆçº§
4. [ ] æ‰¹é‡ä¸‹è½½åŠŸèƒ½
5. [ ] ç”¨æˆ·æ”¶è—åˆ—è¡¨ï¼ˆæœ¬åœ°å­˜å‚¨ï¼‰
6. [ ] æ›´å¤šåæœŸæ•ˆæœï¼ˆGlitch, Bloom, etc.ï¼‰

### ä½ä¼˜å…ˆçº§
7. [ ] ç¤¾äº¤åˆ†äº«åŠŸèƒ½
8. [ ] PWA æ”¯æŒ
9. [ ] æ›´å¤šè¯­è¨€æ”¯æŒ

---

## ğŸ“„ è®¸å¯

MIT License - å…è´¹ç”¨äºä¸ªäººåŠå•†ä¸šç”¨é€”

---

**é¡¹ç›®çŠ¶æ€**: âœ… ç”Ÿäº§ç¯å¢ƒå¯ç”¨ï¼ˆéƒ¨åˆ†åŠŸèƒ½å¼€å‘ä¸­ï¼‰

**æœ€åæ›´æ–°**: 2026-01-12

**ç‰ˆæœ¬**: 2.0.0
